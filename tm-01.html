<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRESS // TOTAL MELTDOWN PROTOCOL</title>
    <style>
        :root {
            --acid-green: #89ad00;
            --rot-purple: #7a00cc;
            --sparks-red: #cc0044;
            --accel-blue: #0099cc;
            --void-black: #000000;
            --paper-white: #ffffff;
            /* Poker Size: 2.5" x 3.5" */
            --card-width: 2.5in;
            --card-height: 3.5in;
            --safe-margin: 0.2in;
        }

        * {
            box-sizing: border-box;
            -webkit-print-color-adjust: exact;
        }

        body {
            margin: 0;
            padding: 0;
            background: #f0f0f0;
            color: black;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            font-size: 14px;
        }

        /* --- UI COMPONENTS --- */
        header {
            background: white;
            padding: 1rem 2rem;
            border-bottom: 6px solid black;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        button {
            background: white;
            color: black;
            border: 3px solid black;
            padding: 10px 18px;
            cursor: pointer;
            font-size: 10px;
            text-transform: uppercase;
            font-weight: 900;
            letter-spacing: 1px;
        }

        button:hover {
            background: black;
            color: white;
        }

        button.active {
            background: black;
            color: white;
        }

        .panel {
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .hidden {
            display: none !important;
        }

        /* --- INTRO SECTION --- */
        .intro-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .intro-box {
            background: white;
            border: 3px solid black;
            padding: 20px;
            box-shadow: 6px 6px 0px black;
        }

        .intro-box h3 {
            margin-top: 0;
            text-transform: uppercase;
            font-size: 14px;
            border-bottom: 2px solid black;
            padding-bottom: 5px;
        }

        /* --- MOBILE READER --- */
        #mobile-view .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .mobile-card {
            width: 100%;
            max-width: 320px;
            aspect-ratio: 2.5 / 3.5;
            background: white;
            border: 5px solid black;
            padding: var(--safe-margin);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            box-shadow: 10px 10px 0px rgba(0, 0, 0, 1);
        }

        /* --- PRINT ENGINE --- */
        .print-page {
            width: 8.5in;
            height: 11in;
            background: white;
            margin: 0 auto 40px auto;
            padding: 0.5in;
            display: flex;
            flex-direction: column;
            gap: 15px;
            position: relative;
            color: black;
            page-break-after: always;
        }

        .print-header {
            font-size: 8pt;
            font-family: monospace;
            display: flex;
            justify-content: space-between;
            border-bottom: 3pt solid black;
            padding-bottom: 5px;
            font-weight: 900;
            text-transform: uppercase;
        }

        .print-row {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .card-face {
            width: var(--card-width);
            height: var(--card-height);
            border: 1pt solid black;
            padding: var(--safe-margin);
            display: flex;
            flex-direction: column;
            background: white;
            overflow: hidden;
            position: relative;
        }

        .fold-line {
            width: 0;
            border-left: 1pt dashed #999;
            height: var(--card-height);
        }

        /* --- CARD INTERIORS --- */
        .card-icon-svg {
            width: 18pt;
            height: 18pt;
            display: block;
            margin-bottom: 8pt;
        }

        .badge {
            font-size: 7pt;
            font-weight: 900;
            border: 2pt solid black;
            padding: 3pt 6pt;
            display: inline-flex;
            align-items: center;
            margin-bottom: 8pt;
            text-transform: uppercase;
        }

        .title {
            font-size: 11pt;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 8pt;
            text-transform: uppercase;
            border-bottom: 2.5pt solid black;
            padding-bottom: 6pt;
        }

        .body-text {
            font-size: 8.5pt;
            line-height: 1.45;
            flex-grow: 1;
            font-weight: 500;
        }

        .theory-block {
            font-size: 7pt;
            margin-top: 8pt;
            padding: 8pt;
            background: #f8f8f8;
            border: 1pt solid #ddd;
            color: #111;
            font-style: italic;
        }

        .footer {
            font-size: 7pt;
            font-weight: 900;
            margin-top: 8pt;
            display: flex;
            justify-content: space-between;
            border-top: 2pt solid black;
            padding-top: 5pt;
            font-family: monospace;
        }

        /* --- CARD BACKS --- */
        .back-design {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: white;
            border: 1pt solid black;
            padding: 0.25in;
        }

        .back-logo-svg {
            width: 65pt;
            height: 65pt;
            margin-bottom: 12pt;
        }

        .back-suit-tab {
            font-size: 9pt;
            font-weight: 900;
            background: black;
            color: white !important;
            padding: 4pt 12pt;
            text-transform: uppercase;
            margin-bottom: 15pt;
        }

        .back-title {
            font-size: 14pt;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -1pt;
            line-height: 1;
        }

        .back-id {
            font-size: 6.5pt;
            font-family: monospace;
            opacity: 0.5;
            margin-top: 20pt;
        }

        @media print {
            .no-print {
                display: none !important;
            }

            body {
                background: white;
            }

            .print-page {
                margin: 0;
                border: none;
                padding: 0.4in;
                box-shadow: none;
            }
        }
    </style>
</head>

<body>

    <header class="no-print">
        <div style="display: flex; align-items: center;">
            <svg style="height:40px; margin-right: 15px;" viewBox="0 0 100 100" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <rect x="5" y="5" width="90" height="90" stroke="black" stroke-width="8" />
                <path d="M5 33H95M5 66H95M33 5V95M66 5V95" stroke="black" stroke-width="2" opacity="0.3" />
                <path d="M15 15L85 85M85 15L15 85" stroke="black" stroke-width="10" />
            </svg>
            <h1 style="margin:0; font-size: 1.8rem; font-weight: 900; letter-spacing: -2pt;">TOTAL MELTDOWN <span
                    style="background:black; color:white; padding: 0 8px;">PRESS</span></h1>
        </div>
        <nav>
            <button id="btn-mobile" class="active" onclick="setView('mobile')">Reader</button>
            <button id="btn-print" onclick="setView('print')">Print (Duplex)</button>
            <button id="btn-theory" onclick="setView('theory')">Archetypes</button>
            <button id="btn-export" onclick="setView('export')">Data</button>
        </nav>
    </header>

    <main>
        <section id="theory-view" class="panel hidden">
            <div style="background:white; border:5px solid black; padding:40px; box-shadow: 15px 15px 0px black;">
                <h2
                    style="margin-top:0; font-weight:900; font-size: 2.5rem; text-transform: uppercase; letter-spacing: -2pt;">
                    The Game Theory of Brain Rot</h2>
                <div class="intro-grid">
                    <div class="intro-box">
                        <h3>The Theory-Cel</h3>
                        <p style="font-size: 13px; line-height: 1.5;"><strong>Strategy:</strong>
                            Over-intellectualization. Use complex jargon to justify absurd actions. Win by convincing
                            the Rizzler that your cringe is actually a subversive critique of late capitalism.</p>
                    </div>
                    <div class="intro-box">
                        <h3>The Rot-Maxxer</h3>
                        <p style="font-size: 13px; line-height: 1.5;"><strong>Strategy:</strong> Acceleration. Fully
                            embody the sludge. Win by forcing the other players into a state of semiotic shock where
                            they can no longer distinguish sarcasm from reality.</p>
                    </div>
                    <div class="intro-box">
                        <h3>The Midwit</h3>
                        <p style="font-size: 13px; line-height: 1.5;"><strong>Strategy:</strong> Dignity maintenance.
                            (Warning: This is a losing strategy). The Midwit tries to play 'properly' and loses Aura by
                            appearing out-of-touch or too serious.</p>
                    </div>
                </div>
                <div style="background:#000; color: #fff; padding: 20px; font-family: monospace;">
                    <p>> STATUS: SYSTEM_CRITICAL</p>
                    <p>> OBJECTIVE: Reach 5000 Aura before the sun triggers the 'Touch Grass' event.</p>
                    <p>> RULE_01: The Rizzler is the law. Obedience is optional but failure is expensive.</p>
                </div>
            </div>
        </section>

        <div id="print-filters" class="hidden no-print"
            style="background: white; padding: 20px; border-bottom: 4px solid black; max-width: 1200px; margin: 0 auto; border-left: 2px solid #ddd; border-right: 2px solid #ddd;">
            <label style="font-weight: 900; font-size: 11px; margin-right: 15px; text-transform: uppercase;">QUADRANT
                SELECTION:</label>
            <select id="suit-selector" onchange="renderPrint()"
                style="padding:10px; border:4px solid black; font-weight:900; cursor:pointer;">
                <option value="all">THE TOTAL DECK (120)</option>
                <option value="Core">CORE [Manual]</option>
                <option value="Sparks">SPARKS [Ontology]</option>
                <option value="Accelerants">ACCELERANTS [Sensory]</option>
                <option value="Monetization">MONETIZATION [Capital]</option>
                <option value="Fluxus">FLUXUS [Ritual]</option>
            </select>
            <button onclick="window.print()" style="margin-left:20px; background:black; color:white;">Generate
                PDF</button>
        </div>

        <section id="mobile-view" class="panel">
            <div style="margin-bottom:30px; display:flex; gap:15px;">
                <button onclick="shuffleDeck()" style="flex:1">Reshuffle</button>
                <input type="text" id="search" placeholder="Filter Simulation Data..." oninput="filterCards()"
                    style="border:4px solid black; padding:12px; flex:3; font-weight:900; text-transform:uppercase;">
            </div>
            <div id="mobile-cards" class="card-container"></div>
        </section>

        <section id="print-view" class="hidden">
            <div id="print-container"></div>
        </section>

        <section id="export" class="panel hidden">
            <textarea id="json-export" readonly></textarea>
        </section>
    </main>

    <script id="deck-data" type="application/json">
[
    {"id":"001","type":"Core","title":"GENESIS: THE SETUP","body":"Place all mobile devices in 'The Pile'. Assign one subject as 'The Rizzler' (Judge). Each subject begins with 1000 Aura. Drawing a card initiates a Meltdown Event.","theory":"Physical devices are anchors for the ego. To meltdown, we must first abandon the interface and enter the communal rot.","footer":"PROT_GEN_01","tags":["Core"]},
    {"id":"002","type":"Core","title":"STRATEGY: THE THEORY-CEL","body":"Play Model: Justify every 'Cringe' action with complex academic exegesis. Use terms like 'Deterritorialization' or 'Simulacra' to gain +200 Aura for every successful action.","theory":"The intellectualization of rot is the highest form of strategic resistance. The Rizzler is susceptible to complex jargon.","footer":"PROT_GEN_02","tags":["Theory-Cel"]},
    {"id":"003","type":"Core","title":"STRATEGY: THE ROT-MAXXER","body":"Play Model: Abandon the search for meaning. Perform actions with absolute, terrifying conviction. Success depends on the speed of execution and the rejection of hesitation.","theory":"Acceleration is the only truth. The Rot-Maxxer wins by exhausting the cognitive capacity of the Midwits.","footer":"PROT_GEN_03","tags":["Rot-Maxxer"]},
    {"id":"004","type":"Core","title":"STRATEGY: THE MIDWIT","body":"Play Model: (Automatic Loss State). The Midwit attempts to maintain social dignity. Every card played against a Midwit results in a -100 Aura penalty to them for 'Stiffness'.","theory":"Dignity is a legacy asset with zero value in the meltdown. The Midwit is the primary target of the protocol.","footer":"PROT_GEN_04","tags":["Midwit"]},
    {"id":"005","type":"PROTOCOL: AURA ECONOMY","body":"Aura is the only currency. Gain it through 'Based' actions and successful Vibe Checks. Lose it through 'Cringe' behavior or by 'Taking an L'. At 0 Aura, you are an NPC.","theory":"Aura represents the quantified libidinal energy of the subject within the attention economy. Zero Aura is social death.","footer":"PROT_GEN_05","tags":["Economy"]},
    {"id":"006","type":"PROTOCOL: THE RIZZLER","body":"The Rizzler is the Sovereign. They decide if an action passes or fails. The Rizzler may tax a subject 100 Aura at any time for 'Negative Vibes'.","theory":"Totalitarian governance is necessary during semiotic collapse. The Rizzler is the arbiter of the Cringe.","footer":"PROT_GEN_06","tags":["Governance"]},
    {"id":"007","type":"PROTOCOL: VIBE CHECK","body":"Any subject may call a Vibe Check. All subjects vote silently. Majority decides the fate of the minority voter (who must Take the L).","theory":"Democratic malice. The Vibe Check is a tool for purging those who do not align with the collective rot.","footer":"PROT_GEN_07","tags":["Conflict"]},
    {"id":"008","type":"PROTOCOL: TAKING THE L","body":"Failure requires an 'L Sacrifice'. Give 1 card from your hand to the subject with the least Aura. Lose 500 Aura. You must sit on the floor for 1 turn.","theory":"Sacrifice maintains the system's entropy. The L is the physical weight of social failure.","footer":"PROT_GEN_08","tags":["Loss"]},
    {"id":"009","type":"PROTOCOL: GOBLIN MODE","body":"While in Goblin Mode (triggered by specific cards), you are immune to Aura loss but cannot win. You may only communicate via grunts. End by Touching Grass.","theory":"A defensive stasis. The subject becomes a body-without-organs, waiting for the system to reset.","footer":"PROT_GEN_09","tags":["Status"]},
    {"id":"010","type":"PROTOCOL: TERMINAL STASIS","body":"The Singularity is reached when one subject reaches 5000 Aura or when all subjects are NPCs. The game terminates. Final result: Total Meltdown achieved.","theory":"Victory is the complete dissolution of the self into the collective sludge. Reality is deleted.","footer":"PROT_GEN_10","tags":["Victory"]}
]
</script>

    <script>
        const SVGS = {
            "Core": `<svg class="card-icon-svg" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2.5"><rect x="3" y="3" width="18" height="18" rx="0"/><path d="M3 9h18M9 21V9"/><path d="M15 15h3"/></svg>`,
            "Sparks": `<svg class="card-icon-svg" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2.5"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/><path d="M5 2l2 2m10-2l-2 2M2 13h2m16 0h2"/></svg>`,
            "Accelerants": `<svg class="card-icon-svg" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2.5"><path d="M5 3l14 9-14 9V3zM19 3v18" stroke-dasharray="2 1"/></svg>`,
            "Monetization": `<svg class="card-icon-svg" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2.5"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/><path d="M12 22V12" opacity="0.4"/></svg>`,
            "Fluxus": `<svg class="card-icon-svg" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2.5"><path d="M12 2a10 10 0 1010 10h-4a6 6 0 11-6-6V2z"/><path d="M12 12l-4 4m0-4l4 4" opacity="0.5"/></svg>`
        };

        const BACK_LOGO = `<svg class="back-logo-svg" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="5" y="5" width="90" height="90" stroke="black" stroke-width="6"/><path d="M5 5L95 95M95 5L5 95" stroke="black" stroke-width="4"/><circle cx="50" cy="50" r="30" fill="white" stroke="black" stroke-width="5"/><path d="M50 20C50 20 45 40 30 50C45 60 50 80 50 80C50 80 55 60 70 50C55 40 50 20 50 20Z" fill="black"/><path d="M0 50H100M50 0V100" stroke="black" stroke-width="1" opacity="0.2"/></svg>`;

        const suits = ["Core", "Sparks", "Accelerants", "Monetization", "Fluxus"];
        const baseData = JSON.parse(document.getElementById('deck-data').textContent);
        const finalDeck = [...baseData];

        // Generate remaining 110 cards (30 total per suit)
        const promptLibrary = [
            ["BAUDRILLARD'S PRIME", "Drink imaginary sludge; explain why water is a 'simulation' of hydration.", "Hyperreality is a beverage."],
            ["THE LACANIAN GLIZZY", "Convince the group the hot dog is an empty signifier of the Father.", "Jouissance in the bun."],
            ["FOUCAULT'S BROWSER", "Confess your search history to the digital Panopticon (The Rizzler).", "Discipline and punish in the feed."],
            ["NIETZSCHEAN OVER-GYATT", "Perform a Will to Power through a singular, aggressive pelvic thrust.", "God is dead; the Gyatt is born."],
            ["SARTREAN NO EXIT", "Stare at a player until they realize they are a free agent in a void.", "Hell is other people's TikToks."],
            ["MARK FISHER HAUNTOLOGY", "Describe a memory from 2012 that feels like a haunting.", "The slow cancellation of the future."],
            ["DELEUZIAN DETOUR", "Explain your route home using only the word 'Flow' and 'Rhizome'.", "Deterritorialization of space."],
            ["NPC GLITCH", "Repeat your last sentence 5 times with decreasing volume.", "Systemic sentient failure."],
            ["THE FANUM TAX", "Give 20% of your cards to the subject with the most Aura.", "Libidinal asset redistribution."],
            ["SIGMA STARE", "Maintain eye contact without blinking for 60 seconds.", "Non-verbal dominance protocol."]
        ];

        suits.forEach((suit, sIdx) => {
            let count = finalDeck.filter(c => c.type === suit).length;
            const target = 24; // Normalized fill target
            while (count < target) {
                const p = promptLibrary[count % promptLibrary.length];
                const id = (finalDeck.length + 1).toString().padStart(3, '0');
                finalDeck.push({
                    id: id, type: suit, title: `${p[0]} ${Math.ceil(count / promptLibrary.length)}`,
                    body: `Execute: ${p[1]}`, theory: `${suit}: ${p[2]}`, footer: `NODE_${id}`, tags: [suit]
                });
                count++;
            }
        });

        // Ensure exactly 120
        while (finalDeck.length < 120) {
            const id = (finalDeck.length + 1).toString().padStart(3, '0');
            finalDeck.push({ id: id, type: "Fluxus", title: "THE FINAL ROT", body: "Everyone says 'Bruh' and terminates.", theory: "System End.", footer: `NODE_${id}`, tags: ["End"] });
        }

        function setView(view) {
            document.querySelectorAll('main > section').forEach(s => s.classList.add('hidden'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
            document.getElementById('print-filters').classList.add('hidden');
            const target = document.getElementById(view + '-view');
            if (target) target.classList.remove('hidden');
            if (view === 'print') document.getElementById('print-filters').classList.remove('hidden');
            document.getElementById('btn-' + view).classList.add('active');
            if (view === 'mobile') renderMobile(finalDeck);
            if (view === 'print') renderPrint();
        }

        function renderMobile(cards) {
            const container = document.getElementById('mobile-cards');
            container.innerHTML = cards.map(c => `
            <div class="mobile-card">
                <div>
                    <span class="badge">${SVGS[c.type]} ${c.type}</span>
                    <div class="title">${c.title}</div>
                    <div class="body-text">${c.body}</div>
                </div>
                <div>
                    <div class="theory-block">${c.theory}</div>
                    <div class="footer"><span>NODE_${c.id}</span><span>[${c.type.toUpperCase()}]</span></div>
                </div>
            </div>
        `).join('');
        }

        function renderPrint() {
            const container = document.getElementById('print-container');
            const filter = document.getElementById('suit-selector').value;
            container.innerHTML = '';
            let printCards = filter === 'all' ? finalDeck : finalDeck.filter(c => c.type === filter);
            for (let i = 0; i < printCards.length; i += 2) {
                if (i % 4 === 0) {
                    const page = document.createElement('div');
                    page.className = 'print-page';
                    page.innerHTML = `<div class="print-header"><span>TOTAL MELTDOWN // PRODUCTION</span><span>PAGE ${Math.floor(i / 4) + 1}</span></div>`;
                    container.appendChild(page);
                }
                const row = document.createElement('div');
                row.className = 'print-row';
                const card = printCards[i];
                row.innerHTML = `
                <div class="card-face">
                    <span class="badge">${SVGS[card.type]} ${card.type}</span>
                    <div class="title">${card.title}</div>
                    <div class="body-text">${card.body}</div>
                    <div class="theory-block">${card.theory}</div>
                    <div class="footer"><span>ID: ${card.id}</span><span>V4.PRESS</span></div>
                </div>
                <div class="fold-line"></div>
                <div class="card-face back-design">
                    <div class="back-suit-tab">${card.type}</div>
                    ${BACK_LOGO}
                    <div class="back-title">TOTAL MELTDOWN</div>
                    <div class="back-id">SYS_CORE_${card.id}</div>
                </div>
            `;
                container.lastChild.appendChild(row);
            }
        }

        function shuffleDeck() { renderMobile([...finalDeck].sort(() => Math.random() - 0.5)); }
        function filterCards() {
            const q = document.getElementById('search').value.toLowerCase();
            renderMobile(finalDeck.filter(c => c.title.toLowerCase().includes(q) || c.id.includes(q)));
        }
        window.onload = () => setView('mobile');
    </script>
</body>

</html>